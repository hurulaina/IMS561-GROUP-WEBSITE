<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device=width, initial-scale=1.0">
<title>Special Day, Special Book</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Afacad:wght@500&family=Bebas+Neue&family=Cinzel+Decorative:wght@400;700&family=Crimson+Text:wght@600&family=DM+Serif+Display&family=Delicious+Handrawn&family=Gloria+Hallelujah&family=Josefin+Sans:wght@400;500&family=Jost:wght@500&family=League+Spartan:wght@500&family=Love+Ya+Like+A+Sister&family=Merienda&family=Nanum+Pen+Script&family=PT+Serif&family=Poppins:wght@600&family=Redressed&family=Rouge+Script&family=Schoolbell&family=Silkscreen&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="style.css">
</head>
<style>
:root{
--main-color: #d3ad7f;
--black: #13131a;
--bg: #010103;
--border: .1rem solid rgba(255,255,255,.3);
}

*{
margin:0; padding:0;
box-sizing: border-box;
outline: none; border: none;
text-decoration: none;
text-transform: capitalize;
transition: .2s linear;
}

html{
font-size: 62.5%;
scroll-behavior: smooth;
scroll-padding-top: 9rem;
overflow-x: hidden;
}

html::-webkit-scrollbar{
width: .8rem;
}

html::-webkit-scrollbar-track{
background: transparent;
}

html::-webkit-scrollbar-thumb{
background: #fff;
border-radius: 5rem;
}

body{
background: #EAD3BA;
}

section{
padding: 2rem 7%;
}

.heading{
text-align: center;
margin-top: 50px;
margin-bottom: 2rem;
position: relative;
}

.heading span{
font-size: 7rem;
padding: .5rem 2rem;
color: var(--black);
font-family: 'Cinzel Decorative', serif;
}

.btn{
margin-top: 1rem;
display: inline-block;
padding: .9rem 3rem;
font-size: 1.7rem;
color: #fff;
background: var(--main-color);
cursor: pointer;
}

.btn:hover{
letter-spacing: .2rem;
}

.header{
background: var(--bg);
display: flex;
align-items: center;
justify-content: space-between;
padding: 1.5rem 7%;
border-bottom: var(--border);
position: fixed;
top: 0; left: 0; right: 0;
z-index: 1000;
}

.header .logo img{
height: 6rem;
}

.header .navbar ul{
list-style: none;
margin: 0 1rem;
font-size: 1rem;
color: #fff;
font-family: 'Cinzel Decorative', serif;
font-weight: bold;
}

.header .navbar ul li{
position: relative;
float: left;
}

header .navbar ul li a{
font-size: 15px;
padding: 15px;
color: white;
display: block;
}

.header .navbar ul li a:hover{
color: var(--main-color);
border-bottom: .1rem solid var(--main-color);
padding-bottom: .5rem
}

.header .navbar ul li a.active{
color: var(--main-color);
border-bottom: .1rem solid var(--main-color);
padding-bottom: .5rem;
}

header .navbar ul li ul{
position: absolute;
left: 0;
width: 200px;
background: var(--bg);
display: none;
}

header .navbar ul li ul li{
width: 100%;
border-top: 1px solid rgba(0,0,0,.1);
}

header .navbar ul li ul li ul{
left: 200px;
top: 0;
}

header .navbar ul li:focus-within > ul,
header .navbar ul li:hover > ul{
display: initial;
}

.header .icons div{
font-size: 2.5rem;
color: #fff;
cursor: pointer;
margin-left: 2rem;
}

.header .icons div:hover{
color:var(--main-color);
}

#menu-btn{
display: none;
}

/* ===== SEARCH FORM (FIXED & STABLE) ===== */
.header .search-form {
  position: absolute;
  top: 115%;
  right: 7%;
  width: 50rem;
  background: #fff;

  display: none;              /* üîë NOT scaleY */
  flex-direction: column;

  border-radius: .5rem;
  z-index: 10000;
}

/* SHOW SEARCH */
.header .search-form.active {
  display: flex;
}

/* INPUT */
.header .search-form input {
  width: 100%;
  padding: 1rem 1.5rem;
  font-size: 1.6rem;
  border: none;
  outline: none;
}

/* ICON */
.header .search-form label {
  position: absolute;
  right: 1.5rem;
  top: 1.2rem;
  font-size: 2.2rem;
  cursor: pointer;
}

/* ===== SUGGESTIONS (VISIBLE GUARANTEED) ===== */
#suggestions {
  width: 100%;
  background: #fff;
  border-top: 1px solid #ccc;

  max-height: 22rem;
  overflow-y: auto;
}

#suggestions div {
  padding: 1rem 1.5rem;
  font-size: 1.5rem;
  cursor: pointer;
}

#suggestions div:hover {
  background: var(--main-color);
  color: #fff;
}

/* ===== CART ICON LIKE SEARCH ICON ===== */
.header .icons .cart-btn {
  position: relative;      /* needed for the counter */
  font-size: 2.5rem;       /* same as search icon */
  color: #fff;             /* same color */
  margin-left: 2rem;       /* same spacing as search icon */
  display: inline-flex;    /* similar alignment as div */
  align-items: center;     /* vertically center icon */
  justify-content: center;
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s ease;
}

.header .icons .cart-btn:hover {
  color: var(--main-color);  /* same hover effect as search icon */
}

/* ===== CART COUNT ===== */
.cart-count {
  position: absolute;
  top: -6px;
  right: -10px;
  background: #47474d;
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.home {
  display: flex;
  justify-content: center; /* centers content horizontally */
  align-items: center;     /* centers content vertically */
  min-height: 100vh;
  background: url(bg22.jpg) no-repeat;
  background-size: cover;
  background-position: center;
  text-align: center;      /* optional, ensures text inside content is centered */
}

.home .content{
max-width: 80rem;
text-align: center;
}

.home .content h3{
font-size: 7rem;
color: #fff;
font-family: 'Redressed', cursive;
}

.home .content span{
font-size: 2.6rem;
color: #F1AB60;
padding: 1rem 0;
line-height: 1.5;
font-family: 'Crimson Text', serif;
}

/* CONTAINER */
.container {
    max-width: 1200px;
    margin: 35px auto;
    padding: 20px;
    background: rgba(255,255,255,0.9);
    border-radius: 12px;
    text-align: center;
}

.heading1{
text-align: center;
margin-top: 5rem;
margin-bottom: 2rem;
position: relative;
}

.heading1::before{
content: '';
position: absolute;
top: 50%; left:0;
transform: translateY(-50%);
width: 100%;
height:.01rem;
background: #d42323;
z-index: -1;
}

.heading1 span{
font-size: 3rem;
padding: .5rem 2rem;
color: white;
background: #b68264;
border: var(--border);
font-family: 'Cinzel Decorative', serif;
}

/* GRID ‚Äì 4 PER ROW */
.product-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
}

/* CARD */
.product-card {
    background: #fff;
    border-radius: 10px;
    padding: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    transition: transform 0.3s;
}

.product-card:hover {
    transform: translateY(-5px);
}

/* IMAGE ‚Äî SAME SIZE, 3:4 */
.product-card img {
    width: 100%;
    aspect-ratio: 3 / 4;
    object-fit: cover;
    border-radius: 8px;
    cursor: pointer;
}

/* PRICE */
.price {
    color: #b12704;
    font-weight: bold;
    font-size: 14px;
}

/* BUTTON */
button {
    margin-top: 8px;
    font-size: 13px;
    padding: 6px 12px;
    border: none;
    background-color: #b17634;
    color: #fff;
    border-radius: 5px;
    cursor: pointer;
}

button:hover {
    background-color: #ebab77;
    color: #000;
}

/* MODAL */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    z-index: 999;
}

.modal-content {
    display: block;
    margin: 80px auto;
    max-width: 80%;
}

.close {
    position: absolute;
    top: 20px;
    right: 35px;
    font-size: 40px;
    color: #fff;
    cursor: pointer;
}

.footerContainer{
margin-top: 7rem;
width: 100%;
padding: 30px 30px 20px;
background-color: #000;
}

.footerContainer .footerNav{
margin: 20px 0;
margin-bottom: 5px;
}

.footerContainer .footerNav ul{
display: flex;
justify-content: center;
}

.footerContainer .footerNav ul li a{
color: white;
margin: 20px;
text-decoration: none;
font-size: 2.2em;
opacity: 0.9;
transition: 0.5s;
font-family: 'Afacad', sans-serif;
}

.footerContainer .footerNav ul li a:hover{
opacity: 1;
}

.footerContainer .box{
display: flex;
justify-content: center;
}

.footerContainer .box a{
color: white;
margin: 20px;
text-decoration: none;
font-size: 1.8em;
opacity: 0.9;
transition: 0.5s;
font-family: 'Afacad', sans-serif;
}

.footerContainer .box a i{
color: #57AF52;
padding-right: .7rem;
}

.footerContainer .box a:hover i{
color: #E8940A;
transition: 0.5s;
}

.footerContainer .footerBottom{
padding: 20px;
text-align: center;
}

.footerContainer .footerBottom p{
color: white;
font-size: 1.8em;
font-family: 'Afacad', sans-serif;
}

.footerContainer .footerBottom span{
color: #FBC73B;
font-size: 1em;
font-family: 'Afacad', sans-serif;
}

/* ================= PRODUCT POPUP (DARK STYLE) ================= */
.product-popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.65);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:3000;
}

.product-popup.active{
  display:flex;
}

.popup-content{
  width:40rem;
  background:linear-gradient(145deg,#1f2933,#111827);
  padding:3rem;
  border-radius:20px;
  color:#e5e7eb;
  position:relative;
  box-shadow:0 25px 60px rgba(0,0,0,.5);
  animation:popupFade .35s ease;
  max-height: 85vh;          /* prevents overflow past screen */
  overflow-y: auto;          /* enables vertical scrolling */
  scrollbar-width: thin;     /* Firefox */
}

.popup-content::-webkit-scrollbar {
  width: 6px;
}

.popup-content::-webkit-scrollbar-thumb {
  background: #967B58;
  border-radius: 10px;
}

.popup-content::-webkit-scrollbar-track {
  background: transparent;
}


@keyframes popupFade{
  from{opacity:0;transform:scale(.92)}
  to{opacity:1;transform:scale(1)}
}

#popup-close{
  position:absolute;
  top:1.2rem;
  right:1.5rem;
  font-size:2.2rem;
  cursor:pointer;
  color:#9ca3af;
  transition:.3s;
}

#popup-close:hover{
  color:#f87171;
  transform:rotate(90deg);
}

/* ===== BOOK ROW (NEW) ===== */
.popup-book{
  display:flex;
  gap:1.6rem;
  align-items:flex-start;
  margin-bottom:1.6rem;
}

.popup-book img{
  width:120px;
  border-radius:12px;
  box-shadow:0 10px 25px rgba(0,0,0,.45);
  flex-shrink:0;
}

.popup-book-info{
  flex:1;
}

.popup-book-info h2{
  font-size:2rem;
  color:#f9fafb;
  margin-bottom:.6rem;
  text-align:left;
}

.popup-book-info p{
  font-size:1.3rem;
  color:#d1d5db;
  line-height:1.6;
  text-transform:none;
  text-align:left;
}

/* ===== FORM AREA ===== */
.popup-content p{
  font-size:1.3rem;
  color:#d1d5db;
}

.popup-content label{
  display:block;
  margin-top:1.2rem;
  font-size:1.2rem;
  color:#9ca3af;
}

.popup-content input,
.popup-content select{
  width:100%;
  padding:.8rem 1rem;
  border-radius:10px;
  background:#111827;
  color:#f9fafb;
  font-size:1.3rem;
}

.popup-content input:focus,
.popup-content select:focus{
  box-shadow:0 0 0 2px #967B58;
}

#popup-total{
  color:#22c55e;
  font-size:1.6rem;
}

#popup-add-cart{
  width:100%;
  margin-top:2rem;
  padding:1rem;
  border-radius:14px;
  background:linear-gradient(135deg,#967B58,#6b563f);
  color:#fff;
  font-size:1.4rem;
  cursor:pointer;
  transition:.3s;
}

#popup-add-cart:hover{
  letter-spacing:.1rem;
  transform:translateY(-2px);
}

.book-list {
  max-height: 160px;
  overflow-y: auto;
  padding: .5rem;
  background: #111827;
  border-radius: 10px;
}

.book-list label {
  display: block;
  font-size: 1.3rem;
  color: #e5e7eb;
  margin-bottom: .4rem;
}

.book-list input:disabled + span {
  color: #6b7280;
}


.gift-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: .6rem;
  margin-top: .5rem;
}

.gift-grid label {
  font-size: 1.2rem;
  color: #d1d5db;
}


/* RESPONSIVE */
@media (max-width: 900px) {
    .product-grid { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 500px) {
    .product-grid { grid-template-columns: 1fr; }
}
</style>
</head>

<body>

<header class="header">

<a href="#" class="logo">
<img src="logo2.png" alt="">
</a>

<nav class="navbar">
  <ul>

    <!-- HOME -->
    <li>
      <a href="index.html">Home +</a>
      <ul>
        <li><a href="index.html#whychooseus">For Book Lovers</a></li>
        <li><a href="index.html#collectionlist">Collection List</a></li>
        <li><a href="index.html#featuredbooks">Featured Books</a></li>
        <li><a href="index.html#specialday" class="active">Special Day, Special Book</a></li>
      </ul>
    </li>

    <!-- BEST SELLER -->
    <li>
      <a href="bestseller.html">Best Seller +</a>
      <ul>
        <li><a href="bestseller.html#top5">Top 5 Best Seller</a></li>
        <li><a href="bestseller.html#book">Book of the Year</a></li>
        <li><a href="bestseller.html#author">Author of the Year</a></li>
      </ul>
    </li>

    <!-- FICTIONS -->
    <li>
      <a href="fiction.html">Fictions +</a>
      <ul>
        <li><a href="romance.html">Romance</a></li>
        <li><a href="fantasy.html">Fantasy</a></li>
        <li><a href="horror.html">Horror</a></li>
        <li><a href="mystery.html">Mystery</a></li>
        <li><a href="thriller.html">Thriller</a></li>
        <li><a href="scifi.html">Sci-Fi</a></li>
        <li><a href="dystopian.html">Dystopian</a></li>
        <li><a href="action.html">Action</a></li>
      </ul>
    </li>

    <!-- NEW ARRIVALS -->
    <li>
      <a href="newarrivals.html">New Arrivals +</a>
      <ul>
        <li><a href="newarrivals.html#scifi">Science Fiction</a></li>
        <li><a href="newarrivals.html#romance">Romance</a></li>
        <li><a href="newarrivals.html#fantasy">Fantasy</a></li>
        <li><a href="newarrivals.html#domestic">Domestic Fiction</a></li>
        <li><a href="newarrivals.html#literary">Literary</a></li>
      </ul>
    </li>

    <!-- ABOUT US -->
    <li>
      <a href="aboutus.html">About Us +</a>
      <ul>
        <li><a href="aboutus.html#prologue">Prologue</a></li>
        <li><a href="aboutus.html#ourteam">Our Team</a></li>
      </ul>
    </li>

    <!-- CONTACT -->
    <li>
      <a href="contact.html">Contact +</a>
      <ul>
        <li><a href="contact.html#messenger">Messenger Owl</a></li>
      </ul>
    </li>

  </ul>
</nav>

<!-- ===== HEADER ICONS ===== -->
<div class="icons">
  <!-- Search Button -->
  <div class="fa-solid fa-magnifying-glass" id="search-btn"></div>

  <!-- Cart Button with Count -->
  <a href="cart.html" class="cart-btn" id="cart-btn">
    <i class="fa-solid fa-cart-shopping"></i>
    <span class="cart-count" id="cart-count">0</span>
  </a>

  <!-- Menu Button -->
  <div class="fa-solid fa-bars" id="menu-btn"></div>
</div>

<!-- ===== SEARCH FORM ===== -->
<div class="search-form" id="search-form">
  <input type="search" id="search-box" placeholder="search here..." autocomplete="off">
  <label for="search-box" class="fa-solid fa-magnifying-glass"></label>
  <div id="suggestions"></div>
</div>

<!-- ===== PRODUCT POPUP ===== -->
<div class="product-popup" id="product-popup">
  <div class="popup-content">
    <span class="fa-solid fa-xmark" id="popup-close"></span>

    <!-- BOOK / BOUQUET PREVIEW -->
    <div class="popup-book">
      <img id="popup-img" src="" alt="">
      <div class="popup-book-info">
        <h2 id="popup-title"></h2>
        <p id="popup-desc"></p>
        <p><strong>Set:</strong> <span id="popup-set"></span></p>
      </div>
    </div>

    <!-- BOOK SELECTION -->
   <label>Select Books (<span id="book-limit"></span> max)</label>
<div id="popup-books" class="book-list"></div>
<small id="book-warning" style="color:#f87171;display:none;">
  Limit reached
</small>
   </select>

    <!-- WRAPPER COLOR -->
    <label>Wrapper Colour</label>
    <select id="popup-wrapper">
      <option value="random">Random (Seller‚Äôs Choice)</option>
      <option value="pink">Pink</option>
      <option value="blue">Blue</option>
      <option value="white">White</option>
      <option value="black">Black</option>
    </select>

    <!-- CARD TYPE -->
    <label>Card Type</label>
    <select id="popup-card">
      <option value="none">No Card</option>
      <option value="lover">For Lover</option>
      <option value="friend">For Friend</option>
      <option value="graduation">Graduation</option>
      <option value="anniversary">Anniversary</option>
    </select>

    <!-- FREE GIFTS -->
<label>
  <input type="checkbox" id="customise-gift">
  Customise Free Gifts
</label>
<div class="gift-grid" id="gift-grid">
  <label><input type="checkbox" class="gift-item" disabled> Bookmark</label>
  <label><input type="checkbox" class="gift-item" disabled> Keychain</label>
  <label><input type="checkbox" class="gift-item" disabled> Bracelet</label>
  <label><input type="checkbox" class="gift-item" disabled> Hair Clip</label>
  <label><input type="checkbox" class="gift-item" disabled> Mini Mirror</label>
  <label><input type="checkbox" class="gift-item" disabled> Ribbon Keychain</label>
  <label><input type="checkbox" class="gift-item" disabled> Mug Coaster</label>
  <label><input type="checkbox" class="gift-item" disabled> Candles</label>
  <label><input type="checkbox" class="gift-item" disabled> Comb/Brush</label>
  <label><input type="checkbox" class="gift-item" disabled> Lotion</label>
  <label><input type="checkbox" class="gift-item" disabled> Lip Balm</label>
  <label><input type="checkbox" class="gift-item" disabled> Pouch Keychain</label>
  <label><input type="checkbox" class="gift-item" disabled> Bobby Pin Accessory</label>
</div>


    <!-- DELIVERY -->
    <label>Delivery Date</label>
    <input type="date" id="popup-date">

    <!-- QUANTITY -->
    <label>Quantity</label>
    <input type="number" id="popup-qty" min="1" value="1">

    <p>Total Price: <strong>RM <span id="popup-total"></span></strong></p>

    <button class="btn" id="popup-add-cart">Add To Cart</button>
  </div>
</div>


</header>

<section class="home" id="home">
<div class="content">
<h3>Special Day, Special Book</h3>
<span>Book Bundle Promotion üéÅ</span>
</div>
</section>

<!-- BOOKS -->
<div class="container">
<h1 class="heading1"><a name="valentine"><span>Valentine's Day</span></a></h1>

<div class="product-grid">
    <div class="product-card animate__animated animate__zoomIn">
        <img src="setA.jpg" onclick="openModal('setA.jpg')">
        <p class="price">RM 49.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set A"
           data-title="Set A Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setA.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setB.jpg" onclick="openModal('setB.jpg')">
        <p class="price">RM 59.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set B"
           data-title="Set B Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setB.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setC.jpg" onclick="openModal('setC.jpg')">
        <p class="price">RM 69.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set C"
           data-title="Set C Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setC.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setD.jpg" onclick="openModal('setD.jpg')">
        <p class="price">RM 79.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set D"
           data-title="Set D Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setD.jpg">
          Add To Cart
        </button>
    </div>
</div>
</div>

<div class="container">
<h1 class="heading1"><a name="Christmas"><span>Christmas Day</span></a></h1>

<div class="product-grid">
    <div class="product-card animate__animated animate__zoomIn">
        <img src="setA.jpg" onclick="openModal('setA.jpg')">
        <p class="price">RM 49.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set A"
           data-title="Set A Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setA.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setB.jpg" onclick="openModal('setB.jpg')">
        <p class="price">RM 59.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set B"
           data-title="Set B Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setB.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setC.jpg" onclick="openModal('setC.jpg')">
        <p class="price">RM 69.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set C"
           data-title="Set C Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setC.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setD.jpg" onclick="openModal('setD.jpg')">
        <p class="price">RM 79.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set D"
           data-title="Set D Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setD.jpg">
          Add To Cart
        </button>
    </div>
</div>
</div>

<div class="container">
<h1 class="heading1"><a name="Halloween"><span>Halloween</span></a></h1>

<div class="product-grid">
    <div class="product-card animate__animated animate__zoomIn">
        <img src="setA.jpg" onclick="openModal('setA.jpg')">
        <p class="price">RM 49.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set A"
           data-title="Set A Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setA.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setB.jpg" onclick="openModal('setB.jpg')">
        <p class="price">RM 59.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set B"
           data-title="Set B Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setB.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setE.jpg" onclick="openModal('setE.jpg')">
        <p class="price">RM 69.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set C"
           data-title="Set C Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setE.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setF.jpg" onclick="openModal('setF.jpg')">
        <p class="price">RM 79.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set D"
           data-title="Set D Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setF.jpg">
          Add To Cart
        </button>
    </div>
</div>
</div>

<div class="container">
<h1 class="heading1"><a name="Friendship"><span>Friendship Day</span></a></h1>

<div class="product-grid">
    <div class="product-card animate__animated animate__zoomIn">
        <img src="setA.jpg" onclick="openModal('setA.jpg')">
        <p class="price">RM 49.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set A"
           data-title="Set A Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setA.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setB.jpg" onclick="openModal('setB.jpg')">
        <p class="price">RM 59.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set B"
           data-title="Set B Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setB.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setC.jpg" onclick="openModal('setC.jpg')">
        <p class="price">RM 69.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set C"
           data-title="Set C Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setC.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setD.jpg" onclick="openModal('setD.jpg')">
        <p class="price">RM 79.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set D"
           data-title="Set D Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setD.jpg">
          Add To Cart
        </button>
    </div>
</div>
</div>

<div class="container">
<h1 class="heading1"><a name="Birthday"><span>Birthday Gift</span></a></h1>

<div class="product-grid">
    <div class="product-card animate__animated animate__zoomIn">
        <img src="setA.jpg" onclick="openModal('setA.jpg')">
        <p class="price">RM 49.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set A"
           data-title="Set A Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setA.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setB.jpg" onclick="openModal('setB.jpg')">
        <p class="price">RM 59.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set B"
           data-title="Set B Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setB.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setE.jpg" onclick="openModal('setE.jpg')">
        <p class="price">RM 69.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set C"
           data-title="Set C Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setE.jpg">
          Add To Cart
        </button>
    </div>

    <div class="product-card animate__animated animate__zoomIn">
        <img src="setF.jpg" onclick="openModal('setF.jpg')">
        <p class="price">RM 79.00</p>
        <!-- ===== POPUP ===== -->
        <button class="btn open-popup"
           data-set="Set D"
           data-title="Set D Bouquet"
           data-price="59"
           data-desc="A beautifully curated book bouquet."
           data-img="setF.jpg">
          Add To Cart
        </button>
    </div>
</div>
</div>

<!-- FREE GIFT -->
<div class="container">
<h1 class="heading1"><a name="Free Gift"><span>Free Gift</span></a></h1>

<div class="product-grid">
<script>
for (let i = 1; i <= 16; i++) {
document.write(`
<div class="product-card animate__animated animate__fadeIn">
<img src="freegift${i}.jpg" onclick="addFreeGift('freegift${i}.jpg')">
<p><strong>FREE</strong></p>
</div>
`);
}
</script>
</div>
</div>

<!-- MODAL -->
<div id="myModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="modal-img">
</div>

<section class="footerContainer">
<div class="box">
<a href="#"> <i class="fa-solid fa-phone"></i> +60 11-2345 6789 </a>
<a href="#"> <i class="fa-solid fa-envelope"></i> LCOWbookstore@gmail.com </a>
<a href="https://www.instagram.com/grey._.poetries?igsh=MWttdGFzejg0cmk1cg==" target="_blank"><i class="fa-brands fa-square-instagram" target="_blank"></i> Instagram </a>
<a href="https://docs.google.com/forms/d/e/1FAIpQLSfFWr_w9D346NSQUY8oNSffHd2lIH3kLz8Rgdx1EF8wl5FSrw/viewform?usp=sf_link" target="_blank"><i class="fa-solid fa-clipboard"></i> Order Form </a>
</div>

<div class="footerNav">
<ul>
<li><a href=""> Home </a></li>
<li><a href="bestseller.html"> Best Seller </a></li>
<li><a href="fictions.html"> Fictions </a></li>
<li><a href="newarrivals.html"> New Arrivals </a></li>
<li><a href="aboutus.html"> About </a></li>
<li><a href="contact.html"> Contact </a></li>
</ul>
</div>

<div class="footerBottom"> 
<p>Copyright @2024; <span> Lost Chapters of World.</span> All Right Reserved!</p>
</div>
</section>

<script>
/* ================= HEADER ICON TOGGLES ================= */
const navbar = document.querySelector('.navbar');
const searchForm = document.querySelector('.search-form');
const searchBtn = document.querySelector('#search-btn');
const cartBtn = document.querySelector('#cart-btn');
const menuBtn = document.querySelector('#menu-btn');

searchBtn.onclick = () => {
  searchForm.classList.toggle('active');
  navbar.classList.remove('active');
};

cartBtn.onclick = () => {
  searchForm.classList.remove('active');
  navbar.classList.remove('active');
};

menuBtn.onclick = () => {
  navbar.classList.toggle('active');
  searchForm.classList.remove('active');
};

/* ================= MOCK BOOK DATA ================= */
/* ================= COMPLETE BOOK LIST ================= */
const books = [
//fictions.featuredBooks
  { id: "book13", title: "The Silent Patient", price: 18.99, img: "book13.jpg" },
  { id: "book15", title: "Catherine House", price: 57.26, img: "book15.jpg" },
  { id: "book19", title: "Desires of the Dead", price: 19.69, img: "book19.jpg" },
  { id: "book20", title: "Just My Type", price: 22.30, img: "book20.jpg" },
  { id: "book23", title: "Muse of Nightmares", price: 31.05, img: "book23.jpg" },
  { id: "book26", title: "The Drowning Woman", price: 44.84, img: "book26.jpg" },
  { id: "book28", title: "The Darkest Mind", price: 42.90, img: "book28.jpg" },
  { id: "book30", title: "Last Days", price: 26.90, img: "book30.jpg" },
  { id: "book31", title: "Watching You", price: 31.65, img: "book31.jpg" },
  { id: "book33", title: "The Dispossessed", price: 32.00, img: "book33.jpg" },
  { id: "book45", title: "Late Nights on Air", price: 36.72, img: "book45.jpg" },
  { id: "book51", title: "Beside A Burning Sea", price: 28.40, img: "book51.jpg" },
  { id: "book53", title: "The Spellman Files", price: 36.72, img: "book53.jpg" },
  { id: "book56", title: "I Am Number Four", price: 15.50, img: "book56.jpg" },
  { id: "book57", title: "Out of the Blue", price: 34.50, img: "book57.jpg" },
  { id: "book58", title: "The One Hundred Year Old Man Who Climbed Out The Window and Disappeared", price: 32.30, img: "book58.jpg" },
  { id: "book59", title: "Help Me, Jacques Cousteau", price: 20.45, img: "book59.jpg" },
  { id: "book61", title: "Me and Kaminski", price: 20.88, img: "book61.jpg" },

//romance
    { id: "romance1", title: "Things We Never Got Over", price: 36.72, img: "romance1.jpg" },
    { id: "romance2", title: "Waking Romeo", price: 35.24, img: "romance2.jpg" },
    { id: "romance3", title: "The Moon and More", price: 30.28, img: "romance3.jpg" },
    { id: "romance4", title: "The Loving Game", price: 30.75, img: "romance4.jpg" },
    { id: "romance5", title: "Mile High", price: 65.03, img: "romance5.jpg" },
    { id: "romance6", title: "Final Offer", price: 37.74, img: "romance6.jpg" },
    { id: "romance7", title: "All Rhodes Lead Here", price: 60.40, img: "romance7.jpg" },
    { id: "romance8", title: "Archer's Voice", price: 38.01, img: "romance8.jpg" },

//fantasy
    { id: "fantasy1", title: "Dance of Thieves", price: 22.58, img: "fantasy1.jpg" },
    { id: "fantasy2", title: "A Darker Shade of Magic", price: 42.90, img: "fantasy2.jpg" },
    { id: "fantasy3", title: "The Final Empire", price: 50.00, img: "fantasy3.jpg" },
    { id: "fantasy4", title: "Once Upon A Broken Heart", price: 50.00, img: "fantasy4.jpg" },
    { id: "fantasy5", title: "Caraval", price: 55.90, img: "fantasy5.jpg" },
    { id: "fantasy6", title: "Powerless", price: 60.00, img: "fantasy6.jpg" },
    { id: "fantasy7", title: "The Serpent & The Wings of Night", price: 80.00, img: "fantasy7.jpg" },
    { id: "fantasy8", title: "Divine Rivals", price: 75.64, img: "fantasy8.jpg" },

//horror
    { id: "horror1", title: "Last Days", price: 50.00, img: "horror1.jpg" },
    { id: "horror2", title: "Dark Matter", price: 75.50, img: "horror2.jpg" },
    { id: "horror3", title: "Naomi's Room", price: 45.10, img: "horror3.jpg" },
    { id: "horror4", title: "The Exorcist's House", price: 90.55, img: "horror4.jpg" },
    { id: "horror5", title: "Marla", price: 18.55, img: "horror5.jpg" },
    { id: "horror6", title: "Echo", price: 60.10, img: "horror6.jpg" },
    { id: "horror7", title: "Dead Inside", price: 55.70, img: "horror7.jpg" },
    { id: "horror8", title: "No One Rides for Free", price: 31.65, img: "horror8.jpg" },

//mystery
    { id: "mystery1", title: "Watching You", price: 31.65, img: "mystery1.jpg" },
    { id: "mystery2", title: "Then She Was Gone", price: 20.00, img: "mystery2.jpg" },
    { id: "mystery3", title: "The Good Girl", price: 140.00, img: "mystery3.jpg" },
    { id: "mystery4", title: "The Other Mrs", price: 55.00, img: "mystery4.jpg" },
    { id: "mystery5", title: "Local Woman Missing", price: 45.00, img: "mystery5.jpg" },
    { id: "mystery6", title: "Little Secrets", price: 45.00, img: "mystery6.jpg" },
    { id: "mystery7", title: "Things We Do In The Dark", price: 55.10, img: "mystery7.jpg" },
    { id: "mystery8", title: "The Only One Left", price: 56.15, img: "mystery8.jpg" },

//thriller
    { id: "thriller1", title: "The Drowning Woman", price: 44.84, img: "thriller1.jpg" },
    { id: "thriller2", title: "The Overnight Guest", price: 30.30, img: "thriller2.jpg" },
    { id: "thriller3", title: "All The Sinners Bleed", price: 53.15, img: "thriller3.jpg" },
    { id: "thriller4", title: "The One", price: 43.65, img: "thriller4.jpg" },
    { id: "thriller5", title: "Look Closer", price: 55.13, img: "thriller5.jpg" },
    { id: "thriller6", title: "The Inmate", price: 58.02, img: "thriller6.jpg" },
    { id: "thriller7", title: "Never Lie", price: 48.54, img: "thriller7.jpg" },
    { id: "thriller8", title: "The Last Word", price: 56.32, img: "thriller8.jpg" },

//scifi
    { id: "scifi1", title: "The Dispossessed", price: 29.65, img: "scifi1.jpg" },
    { id: "scifi2", title: "Children of Time", price: 45.19, img: "scifi2.jpg" },
    { id: "scifi3", title: "Dune", price: 88.18, img: "scifi3.jpg" },
    { id: "scifi4", title: "Childhood's End", price: 25.05, img: "scifi4.jpg" },
    { id: "scifi5", title: "Hyperion", price: 55.03, img: "scifi5.jpg" },
    { id: "scifi6", title: "The Last Watch", price: 65.14, img: "scifi6.jpg" },
    { id: "scifi7", title: "Red Rising", price: 40.22, img: "scifi7.jpg" },
    { id: "scifi8", title: "Ten Low", price: 40.13, img: "scifi8.jpg" },

//dystopian
  { id: "dystopian1", title: "The Hunger Game", price: 84.95, img: "dystopian1.jpg" },
  { id: "dystopian2", title: "Shatter Me", price: 31.65, img: "dystopian2.jpg" },
  { id: "dystopian3", title: "Children of Men", price: 31.65, img: "dystopian3.jpg" },
  { id: "dystopian4", title: "1984", price: 31.65, img: "dystopian4.jpg" },
  { id: "dystopian5", title: "Fahrenheit 451", price: 31.65, img: "dystopian5.jpg" },
  { id: "dystopian6", title: "Divergent", price: 31.65, img: "dystopian6.jpg" },
  { id: "dystopian7", title: "The Maze Runner", price: 31.65, img: "dystopian7.jpg" },
  { id: "dystopian8", title: "The Giver", price: 31.65, img: "dystopian8.jpg" },

//action
    { id: "action1", title: "The Riftwalkers", price: 52.73, img: "action1.jpg" },
    { id: "action2", title: "Lone Wolf", price: 10.89, img: "action2.jpg" },
    { id: "action3", title: "The Asset", price: 26.40, img: "action3.jpg" },
    { id: "action4", title: "Blind Hate", price: 35.25, img: "action4.jpg" },
    { id: "action5", title: "Winsome Lose Some", price: 42.66, img: "action5.jpg" },
    { id: "action6", title: "Gloom", price: 80.99, img: "action6.jpg" },
    { id: "action7", title: "The Secret City", price: 85.45, img: "action7.jpg" },
    { id: "action8", title: "Evolution", price: 53.48, img: "action8.jpg" },
    
// Best Sellers
  { title: "The Heaven & Earth Grocery Store", img: "literary9.jpg", price: "RM130.30" },
  { title: "Iron Flame (The Empyrean Book 2)", img: "book63.jpg", price: "RM86.85" },
  { title: "Icebreaker", img: "book64.jpg", price: "RM181.53" },
  { title: "Lessons in Chemistry", img: "book65.jpg", price: "RM71.54" },
  { title: "Things We Never Got Over", img: "romance1.jpg", price: "RM36.72" },

/* =======================
   SCIENCE FICTION
======================= */
  { id: "scifi1", title: "The Left Hand of Darkness", price: 84.95, img: "science1.jpg" },
  { id: "scifi2", title: "Hyperion", price: 42.50, img: "science2.jpg" },
  { id: "scifi3", title: "Jurassic Park", price: 46.90, img: "science3.jpg" },
  { id: "scifi4", title: "Network Effect", price: 95.90, img: "science4.jpg" },
  { id: "scifi5", title: "I Am Number Four", price: 50.43, img: "science5.jpg" },
  { id: "scifi6", title: "The Deep", price: 42.59, img: "science6.jpg" },
  { id: "scifi7", title: "Light From Uncommon Stars", price: 129.79, img: "science7.jpg" },
  { id: "scifi8", title: "Dead Silence", price: 99.01, img: "science8.jpg" },

/* =======================
   ROMANCE
======================= */
  { id: "romance1", title: "The Lotus Eater", price: 25.00, img: "rom1.jpg" },
  { id: "romance2", title: "Star", price: 16.00, img: "rom2.jpg" },
  { id: "romance3", title: "Late Nights on Air", price: 84.95, img: "rom3.jpg" },
  { id: "romance4", title: "Safe Haven", price: 10.00, img: "rom4.jpg" },
  { id: "romance5", title: "Sisters", price: 20.90, img: "rom5.jpg" },
  { id: "romance6", title: "First Comes Love", price: 65.95, img: "rom6.jpg" },
  { id: "romance7", title: "Beside A Burning Sea", price: 74.43, img: "rom7.jpg" },

/* =======================
   FANTASY
======================= */
  { id: "fantasy1", title: "The Fifth Season", price: 67.37, img: "fant1.jpg" },
  { id: "fantasy2", title: "Children of Blood & Bone", price: 41.90, img: "fant2.jpg" },
  { id: "fantasy3", title: "The Fellowship of the Ring", price: 57.95, img: "fant3.jpg" },
  { id: "fantasy4", title: "Get In Trouble", price: 17.90, img: "fant4.jpg" },
  { id: "fantasy5", title: "The Black Tides of Heaven", price: 85.31, img: "fant5.jpg" },
  { id: "fantasy6", title: "The Lord of the Rings", price: 82.48, img: "fant6.jpg" },
  { id: "fantasy7", title: "The Night Circus", price: 79.13, img: "fant7.jpg" },
  { id: "fantasy8", title: "Ember in the Ashes", price: 59.34, img: "fant8.jpg" },
  { id: "fantasy9", title: "Alice's Adventures in Wonderland", price: 12.90, img: "fant9.jpg" },
  { id: "fantasy10", title: "Angeology", price: 122.79, img: "fant10.jpg" },

/* =======================
   DOMESTIC FICTION
======================= */
  { id: "domestic1", title: "Crazy Rich Asians", price: 37.95, img: "dom1.jpg" },
  { id: "domestic2", title: "Out Of The Blue", price: 46.31, img: "dom2.jpg" },
  { id: "domestic3", title: "Help Me, Jacques Cousteau", price: 10.00, img: "dom3.jpg" },
  { id: "domestic4", title: "The Cinderella Pact", price: 20.69, img: "dom4.jpg" },
  { id: "domestic5", title: "The Spellman Files", price: 10.00, img: "dom5.jpg" },
  { id: "domestic6", title: "Danielle Steel", price: 99.90, img: "dom6.jpg" },
  { id: "domestic7", title: "Truths I Never Told You", price: 67.44, img: "dom7.jpg" },
  { id: "domestic8", title: "All the Ugly & Wonderful Things", price: 84.23, img: "dom8.jpg" },
  { id: "domestic9", title: "Wrong Place Wrong Time", price: 49.69, img: "dom9.jpg" },
  { id: "domestic10", title: "Do No Harm", price: 93.18, img: "dom10.jpg" },
  { id: "domestic11", title: "A Light in the Forest", price: 120.97, img: "dom11.jpg" },
  { id: "domestic12", title: "The Keeper of Stories", price: 13.92, img: "dom12.jpg" },

/* =======================
   LITERARY
======================= */
  { id: "literary1", title: "Me and Kaminski", price: 8.29, img: "literary1.jpg" },
  { id: "literary2", title: "More Than It Hurts You", price: 116.50, img: "literary2.jpg" },
  { id: "literary3", title: "The Secret History", price: 33.19, img: "literary3.jpg" },
  { id: "literary4", title: "Station Eleven", price: 97.74, img: "literary4.jpg" },
  { id: "literary5", title: "Convenience Store Woman", price: 25.00, img: "literary5.jpg" },
  { id: "literary6", title: "The Goldfinch", price: 48.79, img: "literary6.jpg" },
  { id: "literary7", title: "Trust", price: 71.50, img: "literary7.jpg" },
  { id: "literary8", title: "The Covenant of Water", price: 57.39, img: "literary8.jpg" },
  { id: "literary9", title: "The Heaven & Earth Grocery Store", price: 130.30, img: "literary9.jpg" },
  { id: "literary10", title: "Frankenstein", price: 66.98, img: "literary10.jpg" }
];

/* ================= SEARCH ELEMENTS ================= */
const searchInput = document.getElementById("search-box");
const suggestionsBox = document.getElementById("suggestions");

/* ================= LIVE SUGGESTIONS ================= */
searchInput.addEventListener("input", () => {
  const query = searchInput.value.toLowerCase();
  suggestionsBox.innerHTML = "";

  if (!query) return;

  const matches = books.filter(book =>
    book.title.toLowerCase().includes(query)
  );

  matches.forEach(book => {
    const div = document.createElement("div");
    div.textContent = book.title;
    div.style.cursor = "pointer";
    div.style.padding = "0.5rem 1rem";

    div.onclick = () => {
      window.location.href = `search.html?q=${encodeURIComponent(book.title)}`;
    };

    suggestionsBox.appendChild(div);
  });
});

/* ================= ENTER KEY OR ICON CLICK ================= */
searchInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    e.preventDefault();
    goToSearch();
  }
});

document.querySelector(".search-form label").onclick = goToSearch;

function goToSearch() {
  const query = searchInput.value.trim();
  if (query !== "") {
    window.location.href = `search.html?q=${encodeURIComponent(query)}`;
  }
}

/* ================= SEARCH PAGE RESULTS ================= */
const params = new URLSearchParams(window.location.search);
const searchQuery = params.get("q") || "";

if (document.getElementById("search-title")) {
  document.getElementById("search-title").innerText = `Search results for "${searchQuery}"`;
  document.getElementById("searchInput").value = searchQuery;

  const resultsContainer = document.getElementById("results");
  const filtered = books.filter(book =>
    book.title.toLowerCase().includes(searchQuery.toLowerCase())
  );

  document.getElementById("result-count").innerText = `Showing ${filtered.length} result(s)`;

  resultsContainer.innerHTML = filtered.map(book => `
    <div class="gallery-box">
      <img src="${book.img}" alt="${book.title}">
      <div class="gallery-info">
        <h4>${book.title}</h4>
        <p>${book.price}</p>
      </div>
    </div>
  `).join("");
}
</script>

<!-- ===== POPUP JS ===== -->
<script>
  /* ================= SET RULES ================= */
const setRules = {
  "Set A": { maxBooks: 4, maxGifts: 5 },
  "Set B": { maxBooks: 5, maxGifts: 6 },
  "Set C": { maxBooks: 6, maxGifts: 7 },
  "Set D": { maxBooks: 7, maxGifts: 8 }
};

const popup = document.getElementById("product-popup");
const popupClose = document.getElementById("popup-close");

popupClose.addEventListener("click", closePopup);

popup.addEventListener("click", e => {
  if (e.target === popup) closePopup();
});

function closePopup() {
  popup.classList.remove("active");
  document.body.style.overflow = "auto";
}
</script>

<script>
const bookList = document.getElementById("popup-books");
const bookLimitText = document.getElementById("book-limit");
const bookWarning = document.getElementById("book-warning");

let selectedBooks = [];
let bookLimit = 2; // default, updated per set

function renderBookList() {
  bookList.innerHTML = "";

  books.forEach(book => {
    const label = document.createElement("label");

    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.value = book.title;

    checkbox.addEventListener("change", () => {
      if (checkbox.checked) {
        if (selectedBooks.length >= bookLimit) {
          checkbox.checked = false;
          alert("Book limit reached");
          return;
        }
        selectedBooks.push(book.title);
      } else {
        selectedBooks = selectedBooks.filter(b => b !== book.title);
      }

      updateBookStates();
    });

    const span = document.createElement("span");
    span.textContent = " " + book.title;

    label.appendChild(checkbox);
    label.appendChild(span);
    bookList.appendChild(label);
  });
}

function updateBookStates() {
  const checkboxes = bookList.querySelectorAll("input[type='checkbox']");

  bookWarning.style.display =
    selectedBooks.length >= bookLimit ? "block" : "none";

  checkboxes.forEach(cb => {
    if (!cb.checked) {
      cb.disabled = selectedBooks.length >= bookLimit;
      cb.parentElement.style.opacity = cb.disabled ? "0.5" : "1";
    }
  });
}
</script>

<script>
document.querySelectorAll(".open-popup").forEach(btn => {
  btn.addEventListener("click", () => {
    popup.classList.add("active");
    document.body.style.overflow = "hidden";

    selectedBooks = [];

    document.getElementById("popup-title").textContent = btn.dataset.title;
    document.getElementById("popup-desc").textContent = btn.dataset.desc;
    document.getElementById("popup-set").textContent = btn.dataset.set;
    document.getElementById("popup-img").src = btn.dataset.img;

const rules = setRules[btn.dataset.set];

bookLimit = rules.maxBooks;
giftLimit = rules.maxGifts;

bookLimitText.textContent = bookLimit;

    bookLimitText.textContent = bookLimit;
    renderBookList();
    updateBookStates();
  });
});
</script>

<script>
const customiseGift = document.getElementById("customise-gift");
const giftItems = document.querySelectorAll(".gift-item");
let giftLimit = 0;

function autoFillGifts() {
  giftItems.forEach((gift, i) => {
    gift.checked = i < giftLimit;
    gift.disabled = true;
  });
}
autoFillGifts();

// toggle customise
customiseGift.addEventListener("change", () => {
  giftItems.forEach(gift => {
    gift.disabled = !customiseGift.checked;
  });
});
</script>

<script>
const addToCartBtn = document.getElementById("popup-add-cart");
const cartCount = document.getElementById("cart-count");

function getCart() {
  return JSON.parse(localStorage.getItem("cart")) || [];
}

function setCart(cart) {
  localStorage.setItem("cart", JSON.stringify(cart));
  cartCount.textContent = cart.length;
}

addToCartBtn.addEventListener("click", () => {
  if (selectedBooks.length === 0) {
    alert("Please select at least one book");
    return;
  }

  const gifts = [];
  giftItems.forEach(g => g.checked && gifts.push(g.parentElement.textContent.trim()));

  const item = {
    set: document.getElementById("popup-set").textContent,
    books: selectedBooks,
    wrapper: document.getElementById("popup-wrapper").value,
    card: document.getElementById("popup-card").value,
    gifts,
    date: document.getElementById("popup-date").value,
    qty: document.getElementById("popup-qty").value,
    price: document.getElementById("popup-total").textContent
  };

  const cart = getCart();
  cart.push(item);
  setCart(cart);

  popup.classList.remove("active");
  alert("Added to cart!");
});

document.addEventListener("DOMContentLoaded", () => {
  const cart = getCart();
  cartCount.textContent = cart.length;
});

</script>


</body>
</html>